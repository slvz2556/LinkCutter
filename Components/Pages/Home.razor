@page "/"

<PageTitle>Home</PageTitle>


<div class="div-search">

	<div class="div-search-bar">
		<input @oninput="(e) => search = e.Value.ToString()" @bind="search" @onkeydown="(e) => OnEnter(e)" placeholder="Search" />

		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">
			<path d="M76.53,402.27l88.21-91.74c-22.69-26.92-35.12-60.99-35.11-96.2c0-82.51,67.13-149.64,149.64-149.64
             s149.64,67.13,149.64,149.64s-67.13,149.64-149.64,149.64c-30.98,0-60.49-9.34-85.73-27.08l-88.88,92.44
             c-3.71,3.86-8.71,5.99-14.07,5.99c-5.07,0-9.88-1.93-13.53-5.45C69.31,422.39,69.07,410.05,76.53,402.27L76.53,402.27z
              M279.27,103.72c-60.99,0-110.6,49.62-110.6,110.6s49.62,110.6,110.6,110.6s110.6-49.62,110.6-110.6S340.26,103.72,279.27,103.72
             L279.27,103.72z" />
		</svg>
	</div>

</div>

<div class="div-body">

	@foreach (var model in Models.FindAll(x => x.Url.Contains(search)))
	{
		<div class="div-item">

			<img src="Images/@model.Qr" />

			<div class="div-head">

				<h1>@($"{Navigation.BaseUri}r/{model.ID}")</h1>

				<div class="div-button" @onclick="() => DeleteLink(model.ID)">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
						<path d="M356.7,161.4h-53.3v-7.3c0-13.6-11.1-24.7-24.7-24.7h-44.6c-13.6,0-24.7,11.1-24.7,24.7v7.3h-53.3
		                                             c-4.7,0-8.4,3.8-8.4,8.4s3.8,8.4,8.4,8.4h9.5l10.6,180.6c0.8,13.2,11.7,23.5,24.9,23.5h110.8c13.2,0,24.1-10.3,24.9-23.5l10.6-180.6
		                                             h9.5c4.7,0,8.4-3.8,8.4-8.4S361.4,161.4,356.7,161.4z M226.2,154.1c0-4.3,3.5-7.8,7.8-7.8h44.6c4.3,0,7.8,3.5,7.8,7.8v7.3h-60.3
		                                             V154.1z M319.8,357.9c-0.3,4.3-3.8,7.6-8.1,7.6H201c-4.3,0-7.8-3.3-8.1-7.6l-10.5-179.6h35.4H295h35.4L319.8,357.9z" />
						<path d="M293.8,340.2c-0.2,0-0.3,0-0.5,0c-4.6-0.3-8.2-4.3-7.9-8.9l7-118.7c0.3-4.7,4.2-8.2,8.9-7.9
		                                             c4.6,0.3,8.2,4.3,7.9,8.9l-7,118.7C302,336.7,298.3,340.2,293.8,340.2z" />
						<path d="M218.9,340.2c-4.4,0-8.1-3.5-8.4-7.9l-6.9-118.7c-0.3-4.6,3.3-8.6,7.9-8.9c4.6-0.3,8.6,3.3,8.9,7.9l6.9,118.7
		                                             c0.3,4.6-3.3,8.6-7.9,8.9C219.3,340.1,219.1,340.2,218.9,340.2z" />
						<path d="M256.4,340.2c-4.7,0-8.4-3.8-8.4-8.4V213c0-4.7,3.8-8.4,8.4-8.4c4.7,0,8.4,3.8,8.4,8.4v118.7
		                                             C264.8,336.4,261,340.2,256.4,340.2z" />
					</svg>
				</div>

				<div class="div-button" onclick='CopyToClipboard("@($"{Navigation.BaseUri}r/{model.ID}")")'>
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">
						<path d="M365.9,185.4v173c0,8.2-7.3,14.9-16.3,14.9h-117c-9,0-16.3-6.7-16.3-14.9V350h76.3c9,0,16.3-6.7,16.3-14.9V170.5h40.6
		                             C358.6,170.5,365.9,177.2,365.9,185.4z" />
						<path d="M267.4,126.7H150.4c-9,0-16.3,6.7-16.3,14.9v173c0,8.2,7.3,14.9,16.3,14.9h116.9c9,0,16.3-6.7,16.3-14.9v-173
		                             C283.7,133.3,276.4,126.7,267.4,126.7z M268.9,311.4c0,3-2.7,5.5-6,5.5H154.1c-3.3,0-6-2.5-6-5.5v-166c0-3,2.7-5.5,6-5.5h108.8
		                             c3.3,0,6,2.5,6,5.5V311.4z" />
					</svg>
				</div>

			</div>

			<input class="txt-input" type="url" @onfocusout='() => SetData(model.ID)' placeholder="Redirection url" @bind="model.Url" />

			<p>Date: @model.Date</p>
			<p style="margin-bottom:10px;">Seen: @model.Seen</p>
		</div>
	}

</div>

@if (Models.Count() <= 1000)
{
	<div class="div-add" @onclick="CreateNew">
		<b>+</b>
	</div>
}